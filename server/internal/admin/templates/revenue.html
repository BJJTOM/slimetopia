{{define "revenue.html"}}
{{template "layout.html" .}}
{{end}}

{{define "content"}}
<p style="color:#636e72; font-size:12px; margin-bottom:16px;">기준: {{.Now}}</p>

<div class="stats-grid">
  <div class="stat-card">
    <div class="label">오늘 거래</div>
    <div class="value">{{.TodayCount}}</div>
    <div style="font-size:11px; color:#636e72; margin-top:4px;">골드 {{.TodayGold}} / 젬 {{.TodayGems}}</div>
  </div>
  <div class="stat-card">
    <div class="label">이번 주</div>
    <div class="value">{{.WeekCount}}</div>
    <div style="font-size:11px; color:#636e72; margin-top:4px;">골드 {{.WeekGold}} / 젬 {{.WeekGems}}</div>
  </div>
  <div class="stat-card">
    <div class="label">이번 달</div>
    <div class="value">{{.MonthCount}}</div>
    <div style="font-size:11px; color:#636e72; margin-top:4px;">골드 {{.MonthGold}} / 젬 {{.MonthGems}}</div>
  </div>
</div>

<div style="display:grid; grid-template-columns:1fr 1fr; gap:20px; margin-top:20px;">
  <!-- Daily Trend -->
  <div>
    <h2 style="font-size:16px; margin-bottom:12px; color:#ffeaa7;">일별 추이 (14일)</h2>
    <table>
      <thead><tr><th>날짜</th><th>건수</th><th>골드</th><th>젬</th></tr></thead>
      <tbody>
        {{range .DailyTrend}}
        <tr>
          <td>{{.Date}}</td>
          <td>{{.Count}}</td>
          <td style="color:#ffeaa7;">{{.Gold}}</td>
          <td style="color:#a29bfe;">{{.Gems}}</td>
        </tr>
        {{else}}
        <tr><td colspan="4" style="text-align:center; color:#636e72;">데이터 없음</td></tr>
        {{end}}
      </tbody>
    </table>
  </div>

  <!-- By Item -->
  <div>
    <h2 style="font-size:16px; margin-bottom:12px; color:#74b9ff;">아이템별 (30일)</h2>
    <table>
      <thead><tr><th>액션</th><th>건수</th><th>골드</th><th>젬</th></tr></thead>
      <tbody>
        {{range .ByItem}}
        <tr>
          <td><span class="badge" style="background:rgba(116,185,255,0.15); color:#74b9ff;">{{.Action}}</span></td>
          <td>{{.Count}}</td>
          <td style="color:#ffeaa7;">{{.Gold}}</td>
          <td style="color:#a29bfe;">{{.Gems}}</td>
        </tr>
        {{else}}
        <tr><td colspan="4" style="text-align:center; color:#636e72;">데이터 없음</td></tr>
        {{end}}
      </tbody>
    </table>
  </div>
</div>
{{end}}
