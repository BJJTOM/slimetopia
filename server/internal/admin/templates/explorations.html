{{define "explorations.html"}}
{{template "layout.html" .}}
{{end}}

{{define "content"}}
{{if .Error}}
<div class="msg-error">{{.Error}}</div>
{{end}}

<p style="font-size: 12px; color: #636e72; margin-bottom: 12px;">총 {{.Total}}개 탐험지</p>

{{range .Explorations}}
<div class="stat-card" style="margin-bottom: 16px;">
  <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
    <div>
      <span style="color: #55efc4; font-weight: 700; font-size: 16px;">{{.Name}}</span>
      <span style="color: #636e72; font-size: 12px; margin-left: 8px;">#{{.ID}}</span>
    </div>
    <div>
      <span class="badge" style="background: rgba(116,185,255,0.15); color: #74b9ff;">{{.RecommendedElement}}</span>
      <span style="color: #b2bec3; font-size: 12px; margin-left: 8px;">{{.DurationMinutes}}분</span>
    </div>
  </div>

  <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
    <div>
      <div style="font-size: 11px; color: #636e72; margin-bottom: 4px;">보상</div>
      <div style="font-size: 13px;">
        <span style="color: #ffeaa7;">골드 {{.Rewards.Gold.Min}}~{{.Rewards.Gold.Max}}</span>
        {{range .Rewards.Items}}
        <span class="badge" style="background: rgba(255,255,255,0.06); color: #b2bec3; margin-left: 4px;">{{.}}</span>
        {{end}}
      </div>
    </div>
    <div>
      <div style="font-size: 11px; color: #636e72; margin-bottom: 4px;">해금 조건</div>
      <div style="font-size: 13px;">
        {{if eq .Unlock.Type "default"}}<span style="color: #55efc4;">기본</span>
        {{else if eq .Unlock.Type "level"}}<span style="color: #a29bfe;">레벨 {{.Unlock.Value}}</span>
        {{else}}<span style="color: #b2bec3;">{{.Unlock.Type}} {{.Unlock.Value}}</span>
        {{end}}
      </div>
    </div>
  </div>

  {{if .MaterialDrops}}
  <div style="margin-top: 12px;">
    <div style="font-size: 11px; color: #636e72; margin-bottom: 4px;">소재 드롭</div>
    <div style="display: flex; gap: 8px; flex-wrap: wrap;">
      {{range .MaterialDrops}}
      <span style="background: rgba(0,0,0,0.2); padding: 4px 10px; border-radius: 6px; font-size: 12px;">
        #{{.MaterialID}} <span style="color: #ffeaa7;">{{mul100 .Chance}}%</span> ({{.MinQty}}~{{.MaxQty}})
      </span>
      {{end}}
    </div>
  </div>
  {{end}}
</div>
{{else}}
<div class="stat-card"><p style="text-align:center; color:#636e72;">탐험지 데이터 없음</p></div>
{{end}}
{{end}}
